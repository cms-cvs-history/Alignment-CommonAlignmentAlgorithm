process TkReco = 
{

  # initialize  MessageLogger
  include "FWCore/MessageLogger/data/MessageLogger.cfi"
 
  # initialize magnetic field
  include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

  # tracker geometry
  include "Geometry/TrackerRecoData/data/trackerRecoGeometryXML.cfi"

  # tracker numbering
  include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"

  # tracker geometry
  include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"

  # Misalignment example scenario producer
  # include "Alignment/TrackerAlignment/data/ExampleScenario.cfi"
  # es_prefer MisalignedTracker = MisalignedTrackerESProducer {}

  # strip parameter estimator service for SiStripRecHitConverter
  include "RecoLocalTracker/SiStripRecHitConverter/data/StripCPEfromTrackAngle.cfi"

  service = RandomNumberGeneratorService
  {
    untracked uint32 sourceSeed = 98765
  }


  # include  pixClust
  include "RecoLocalTracker/SiPixelClusterizer/data/SiPixelClusterizer.cfi"

  # include SiStripClusterizer
  include "RecoLocalTracker/SiStripClusterizer/data/SiStripClusterizer.cfi""

  #include pixRecHitConverter
  include "RecoLocalTracker/SiPixelRecHits/data/SiPixelRecHits.cfi" 

  # include SiStripRecHitConverter
  include "RecoLocalTracker/SiStripRecHitConverter/data/SiStripRecHitConverter.cfi"
 
  # GlobalPixelSeedGenerator
  include "RecoTracker/TkSeedGenerator/data/GlobalPixelSeeds.cff"

  # KFTrackCandidateMaker
  include "RecoTracker/CkfPattern/data/CkfTrackCandidates.cff"

  # CTF track fit with material
  include "RecoTracker/TrackProducer/data/CTFFinalFitWithMaterial.cff"

  source = PoolSource 
  { 
    untracked vstring fileNames = { "file:tenmuons.pt5-50.digi.root" }
    int32 MaxEvents = -1
  }

  module Out = PoolOutputModule
  { 
    untracked string fileName = "file:tenmuons.pt5-50.trackreco.root"
  }

  sequence localreco = 
  {
    pixClust,
    ThreeThresholdClusterizer,
    pixRecHitConverter,
    LocalMeasurementConverter
  }

  sequence ckf = 
  {
    GlobalPixelSeeds,
    CkfTrackCandidates,
    CTFWMaterial
  }

  path p = 
  {
    localreco,
    ckf
  }

  endpath e = 
  {
    Out
  }
}
